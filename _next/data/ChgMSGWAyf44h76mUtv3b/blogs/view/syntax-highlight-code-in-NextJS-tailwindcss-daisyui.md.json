{"pageProps":{"data":"![preview](https://raw.githubusercontent.com/biplobsd/biplobsd.github.io/data/images/syntax-highlight-code-in-NextJS-tailwindcss-daisyui/preview-code-syntax-highlighter.gif)\n\n# Syntax Highlight Code in NextJS TailwindCSS DaisyUI\n\nCode syntax highlighting is needed to make code more readable and understandable. In this article, you will learn how to implement syntax highlighting in your Next.js website using TailwindCSS, DaisyUI, react-markdown, react-syntax-highlighter, and more.\n\nI have created a simple repository for this tutorial. You can check it out to better understand how to implement this on your website. The link to the repository is provided in the full code section below.\n\n## Install Dependencies\n\nTo use syntax highlighting, we need to install the following dependencies:\n\n`npm i react-copy-to-clipboard react-syntax-highlighter`\n\nFor development dependencies, we need to install:\n\n`npm i -D @heroicons/react @types/react-copy-to-clipboard @types/react-syntax-highlighter daisyui tailwind-scrollbar`\n\n## Add `code` components in your ReactMarkdown\n\nWrap your Markdown string with the `<ReactMarkdown>` component for rendering. It should look like this:\n\nFind your ReactMarkdown component or create a new component and pass the Markdown string to it.\n\n### File `markdown_render.tsx`\n\n```tsx\nimport ReactMarkdown from \"react-markdown\";\n\ninterface MarkdownRenderProps {\n  mdString: string;\n}\n\nexport default function MarkdownRender({ mdString }: MarkdownRenderProps) {\n  return <ReactMarkdown>{mdString}</ReactMarkdown>;\n}\n```\n\nIn this ReactMarkdown component, we will add the `react-syntax-highlighter` to highlight our code.\n\n## Adding `SyntaxHighlighter` to the ReactMarkdown\n\nIn the `ReactMarkdown` component, we can style our HTML tags by passing props to our `code` component. Update the `code` component with the following code snippet:\n\n```tsx\nimport ReactMarkdown from \"react-markdown\";\nimport { PrismLight as SyntaxHighlighter } from \"react-syntax-highlighter\";\nimport { oneDark } from \"react-syntax-highlighter/dist/cjs/styles/prism\";\n\ninterface MarkdownRenderProps {\n  mdString: string;\n}\n\nexport default function MarkdownRender({ mdString }: MarkdownRenderProps) {\n  return (\n    <ReactMarkdown\n      components={{\n        code({ inline, className, ...props }) {\n          const hasLang = /language-(\\w+)/.exec(className || \"\");\n          return !inline && hasLang ? (\n            <SyntaxHighlighter\n              style={oneDark}\n              language={hasLang[1]}\n              PreTag=\"div\"\n              className=\"mockup-code scrollbar-thin scrollbar-track-base-content/5 scrollbar-thumb-base-content/40 scrollbar-track-rounded-md scrollbar-thumb-rounded\"\n              showLineNumbers={true}\n              useInlineStyles={true}\n            >\n              {String(props.children).replace(/\\n$/, \"\")}\n            </SyntaxHighlighter>\n          ) : (\n            <code className={className} {...props} />\n          );\n        },\n      }}\n    >\n      {mdString}\n    </ReactMarkdown>\n  );\n}\n```\n\nIn this code, we are using TailwindCSS, DaisyUI, and tailwind-scrollbar to style the code block. It will now look like this:\n\nWhen running `npm run dev`:\n\n![highlight-added-dev-preview.png](https://raw.githubusercontent.com/biplobsd/biplobsd.github.io/data/images/syntax-highlight-code-in-NextJS-tailwindcss-daisyui/highlight-added-dev-preview.png)\n\nWhen running `npm run build`:\n\n![highlight-added-pro-preview.png](https://raw.githubusercontent.com/biplobsd/biplobsd.github.io/data/images/syntax-highlight-code-in-NextJS-tailwindcss-daisyui/highlight-added-pro-preview.png)\n\nHowever, there is a problem with the code highlighting in `npm run build`. To fix this, we need to register the syntax highlighter languages in our `MarkdownRender` component file.\n\n## Register Language for `SyntaxHighlighter`\n\nWe can register languages using the `registerLanguage` method provided by `SyntaxHighlighter`. Below, I have added some popular languages, but you can add more languages. Here is the list of supported languages by Prism. [Check here](https://github.com/react-syntax-highlighter/react-syntax-highlighter/blob/master/AVAILABLE_LANGUAGES_PRISM.MD) for the languages supported by Prism.\n\nAdd the following lines of code in the `MarkdownRender` component file:\n\n```tsx\nimport tsx from \"react-syntax-highlighter/dist/cjs/languages/prism/tsx\";\nimport typescript from \"react-syntax-highlighter/dist/cjs/languages/prism/typescript\";\nimport scss from \"react-syntax-highlighter/dist/cjs/languages/prism/scss\";\nimport bash from \"react-syntax-highlighter/dist/cjs/languages/prism/bash\";\nimport markdown from \"react-syntax-highlighter/dist/cjs/languages/prism/markdown\";\nimport json from \"react-syntax-highlighter/dist/cjs/languages/prism/json\";\nimport lua from \"react-syntax-highlighter/dist/cjs/languages/prism/lua\";\n\nSyntaxHighlighter.registerLanguage(\"tsx\", tsx);\nSyntaxHighlighter.registerLanguage(\"typescript\", typescript);\nSyntaxHighlighter.registerLanguage(\"scss\", scss);\nSyntaxHighlighter.registerLanguage(\"bash\", bash);\nSyntaxHighlighter.registerLanguage(\"markdown\", markdown);\nSyntaxHighlighter.registerLanguage(\"json\", json);\nSyntaxHighlighter.registerLanguage(\"lua\", lua);\n```\n\n## Adding Copy Code Button and Language Name\n\nA copy code button will allow readers to quickly copy code snippets to their clipboard. This button is highly useful. Additionally, displaying the language name will help in better understanding the code.\n\nTo achieve this, we need to update the `pre` HTML tag in the code.\n\nHere is the `pre` code for the MarkdownRender component:\n\n```tsx\npre: (pre) => {\n  // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-explicit-any\n  const codeChunk = (pre as any).node.children[0].children[0].value as string;\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const [copyTip, setCopyTip] = useState(\"Copy code\");\n\n  const language =\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call, @typescript-eslint/no-explicit-any\n    (pre as any).children[0]?.props.className.replace(\n      /language-/g,\n      \"\"\n    ) as string;\n\n  return (\n    <div className=\"relative overflow-x-hidden\">\n      <button\n        style={{\n          right: 0,\n        }}\n        className=\"tooltip tooltip-left absolute z-40 mr-2 mt-5\"\n        data-tip={copyTip}\n      >\n        <CopyToClipboard\n          text={codeChunk}\n          // eslint-disable-next-line @typescript-eslint/no-misused-promises\n          onCopy={async () => {\n            setCopyTip(\"Copied\");\n            await new Promise((resolve) => setTimeout(resolve, 500));\n            setCopyTip(`Copy code`);\n          }}\n        >\n          <DocumentDuplicateIcon className=\"h-5 w-5 cursor-pointer hover:text-blue-600\" />\n        </CopyToClipboard>\n      </button>\n      <span\n        style={{\n          bottom: 0,\n          right: 0,\n        }}\n        className=\"absolute z-40 mb-5 mr-1 rounded-lg bg-base-content/40 p-1 text-xs uppercase text-base-300 backdrop-blur-sm\"\n      >\n        {language}\n      </span>\n      <pre {...pre}></pre>\n    </div>\n  );\n};\n```\n\n## Final preview\n\n![copy-button-language-name.png](https://raw.githubusercontent.com/biplobsd/biplobsd.github.io/data/images/syntax-highlight-code-in-NextJS-tailwindcss-daisyui/copy-button-language-name.png)\n\n## Complete Code for `markdown_render.tsx`\n\nYou can find the source code for this tutorial on GitHub.\nProject link: https://github.com/biplobsd/code-syntax-highlighter-tailwind-daisyui\n\nTo view the code for the `markdown_render.tsx` file, you can click on the following https://github.com/biplobsd/code-syntax-highlighter-tailwind-daisyui/blob/main/src/components/markdown_render.tsx\n\nYou can also see the, this website implementation of this code syntax highlighter on the PNP project, which is an open-source project. Here is the link to the PNP GitHub repository below -\n\nhttps://github.com/SpeedOut-Source/pnp/blob/d03965a73d42751ae282b3613289695b0df06a6a/src/components/markdown/md_render.tsx\n\n## Reference\n\nHere are some other great blogs on this topic. I followed them to implement code syntax highlighting on this website:\n\n- [Syntax Highlight Code in Markdown by Amir Ardalan](https://amirardalan.com/blog/syntax-highlight-code-in-markdown)\n- [React Markdown â€” Code and Syntax Highlighting by Bexultan Myrzatay](https://medium.com/young-developer/react-markdown-code-and-syntax-highlighting-632d2f9b4ada)\n\n## Conclusion\n\nThat's it! If you have any questions, feel free to ask in the comment box below. ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥\n\nI hope this helps! Let me know if you have any further questions.\n","itemView":{"imgUrl":"https://raw.githubusercontent.com/biplobsd/biplobsd.github.io/data/images/syntax-highlight-code-in-NextJS-tailwindcss-daisyui/preview-code-syntax-highlighter.gif","title":"Syntax Highlight Code in NextJS TailwindCSS DaisyUI","desc":"Code syntax highlighting is needed to make code more readable and understandable. In this article, y...","date":1688040142000,"readTime":3,"fileName":"syntax-highlight-code-in-NextJS-tailwindcss-daisyui.md","imgBlurData":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAAPoAAAD6AG1e1JrAAAAMElEQVR4nGNw8QnVM7WXUzMIjEpmWL/96ONXf45euL9i034GcVlVRQ0jURlVTgEpACVkDeiAT8uSAAAAAElFTkSuQmCC"},"previous":null,"next":{"imgUrl":"https://raw.githubusercontent.com/biplobsd/biplobsd.github.io/data/images/reading-progressbar/preview.png","title":"Creating a Gradient Reading Progress Bar in NextJS with TailwindCSS","desc":"I am building this portfolio website to showcase my app and services to the world. During my researc...","date":1687780096000,"readTime":2,"fileName":"creating-a-gradient-reading-progress-bar-in-NextJS-and-tailwindcss.md","imgBlurData":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAIAAAA7ljmRAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAMElEQVR4nGPwCYpfu/lQWk4VE5c4g6aRI6+oEq+IArewAsP8nKLZC06dfv7/8e//AOhqDv4YLkcRAAAAAElFTkSuQmCC"},"type":"blogs","more4":null},"__N_SSG":true}